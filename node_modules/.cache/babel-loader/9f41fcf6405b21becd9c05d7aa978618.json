{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/krithikasudupa/Documents/ipm-marketplace-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/krithikasudupa/Documents/ipm-marketplace-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*\n#\n# Copyright 2020- IBM Inc. All rights reserved\n# SPDX-License-Identifier: Apache2.0\n#\n*/import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Loading,Grid,Row,Column}from\"carbon-components-react\";import ContainerComponent from\"./../Layout/Container/ContainerComponent\";import CardComponent from\"./../Card/CardComponent\";export default function ProductsComponent(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoader=_useState4[1];useEffect(function(){var hostname=process.env.NODE_ENV===\"development\"?\"http://localhost:3000\":window.location.origin;axios.get(\"\".concat(hostname,\"/partner/products/data\")).then(function(response){setLoader(false);if(response.data){var _products=response.data.products;var ibmConfiguratorProducts=_products.filter(function(data){var _iterator=_createForOfIteratorHelper(data.purchasePlans),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var plan=_step.value;if(plan.hasOwnProperty(\"supportedByIbmConfigurator\")){return data;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}});setProducts(ibmConfiguratorProducts);}});},[]);var redirectToPlans=function redirectToPlans(product){props.history.push({pathname:\"/partner/product/\".concat(product.id,\"/plans\"),state:product});};var loaderProps={active:true,withOverlay:true,small:false,description:\"Loader\",className:\"loader\"};var rightButtonProps=function rightButtonProps(product){return{title:\"Show Plans\",size:\"small\",onClick:function onClick(){return redirectToPlans(product);}};};var cardProps=function cardProps(product){return{title:product.name,description:product.longDescription,rightButton:rightButtonProps(product)};};return/*#__PURE__*/React.createElement(ContainerComponent,null,loading?/*#__PURE__*/React.createElement(Loading,loaderProps):/*#__PURE__*/React.createElement(Grid,{style:{marginTop:\"2rem\"}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Column,{style:{margin:\"0 20px\"}},/*#__PURE__*/React.createElement(\"h3\",null,\"IBM Product Catalog\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Column,{style:{margin:\"0 20px\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Click Show Plan to view plan for desired product\"))),/*#__PURE__*/React.createElement(Row,null,products.map(function(product){return/*#__PURE__*/React.createElement(Column,{key:product.id,sm:12,md:4,lg:4,xlg:3},/*#__PURE__*/React.createElement(CardComponent,cardProps(product)));}))));}","map":{"version":3,"sources":["/Users/krithikasudupa/Documents/ipm-marketplace-app/src/components/Products/ProductsComponent.js"],"names":["React","useState","useEffect","axios","Loading","Grid","Row","Column","ContainerComponent","CardComponent","ProductsComponent","props","products","setProducts","loading","setLoader","hostname","process","env","NODE_ENV","window","location","origin","get","then","response","data","ibmConfiguratorProducts","filter","purchasePlans","plan","hasOwnProperty","redirectToPlans","product","history","push","pathname","id","state","loaderProps","active","withOverlay","small","description","className","rightButtonProps","title","size","onClick","cardProps","name","longDescription","rightButton","marginTop","margin","map"],"mappings":"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","sourcesContent":["/*\n#\n# Copyright 2020- IBM Inc. All rights reserved\n# SPDX-License-Identifier: Apache2.0\n#\n*/\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Loading, Grid, Row, Column } from \"carbon-components-react\";\n\nimport ContainerComponent from \"./../Layout/Container/ContainerComponent\";\nimport CardComponent from \"./../Card/CardComponent\";\n\nexport default function ProductsComponent(props) {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoader] = useState(true);\n\n    useEffect(() => {\n        const hostname =\n            process.env.NODE_ENV === \"development\"\n                ? \"http://localhost:3000\"\n                : window.location.origin;\n\n        axios.get(`${hostname}/partner/products/data`).then((response) => {\n            setLoader(false);\n            if (response.data) {\n                const products = response.data.products;\n                const ibmConfiguratorProducts = products.filter((data) => {\n                    for (let plan of data.purchasePlans) {\n                        if (plan.hasOwnProperty(\"supportedByIbmConfigurator\")) {\n                            return data;\n                        }\n                    }\n                });\n\n                setProducts(ibmConfiguratorProducts);\n            }\n        });\n    }, []);\n\n    const redirectToPlans = (product) => {\n        props.history.push({\n            pathname: `/partner/product/${product.id}/plans`,\n            state: product,\n        });\n    };\n\n    const loaderProps = {\n        active: true,\n        withOverlay: true,\n        small: false,\n        description: \"Loader\",\n        className: \"loader\",\n    };\n\n    const rightButtonProps = (product) => {\n        return {\n            title: \"Show Plans\",\n            size: \"small\",\n            onClick: () => redirectToPlans(product),\n        };\n    };\n\n    const cardProps = (product) => {\n        return {\n            title: product.name,\n            description: product.longDescription,\n            rightButton: rightButtonProps(product),\n        };\n    };\n\n    return (\n        <ContainerComponent>\n            {loading ? (\n                <Loading {...loaderProps} />\n            ) : (\n                <Grid style={{ marginTop: \"2rem\" }}>\n                    <Row>\n                        <Column style={{ margin: \"0 20px\" }}>\n                            <h3>IBM Product Catalog</h3>\n                        </Column>\n                    </Row>\n                    <Row>\n                        <Column style={{ margin: \"0 20px\" }}>\n                            <p>\n                                Click Show Plan to view plan for desired product\n                            </p>\n                        </Column>\n                    </Row>\n                    <Row>\n                        {products.map((product) => (\n                            <Column\n                                key={product.id}\n                                sm={12}\n                                md={4}\n                                lg={4}\n                                xlg={3}\n                            >\n                                <CardComponent {...cardProps(product)} />\n                            </Column>\n                        ))}\n                    </Row>\n                </Grid>\n            )}\n        </ContainerComponent>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}